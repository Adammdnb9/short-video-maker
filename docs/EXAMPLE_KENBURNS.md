# Ken Burns Image Component - Usage Examples

The `KenBurnsImage` component provides smooth zoom and pan animations for images in Remotion compositions, creating the classic "Ken Burns effect" commonly seen in documentaries and video slideshows.

## Basic Usage

```tsx
import { KenBurnsImage } from "../components/images/KenBurnsImage";

// In your Remotion composition
<KenBurnsImage
  src="file:///path/to/image.png"
  durationInFrames={180}  // 6 seconds at 30fps
  direction="zoom-in"
/>
```

## Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `src` | `string` | required | Image source URL (supports `file://`, `data:`, and `http://`) |
| `durationInFrames` | `number` | required | Duration of the animation in frames |
| `startFrame` | `number` | `0` | Starting frame of the clip |
| `direction` | `"zoom-in" \| "zoom-out" \| "pan-right" \| "pan-left"` | `"zoom-in"` | Animation direction |
| `intensity` | `number` | `1.2` | Zoom intensity (1.0 = no zoom, 2.0 = 2x zoom) |

## Animation Directions

### Zoom In
Gradually zooms into the image from normal size to `intensity` scale.

```tsx
<KenBurnsImage
  src={imageUrl}
  durationInFrames={150}
  direction="zoom-in"
  intensity={1.3}
/>
```

### Zoom Out
Starts zoomed in and gradually zooms out to normal size.

```tsx
<KenBurnsImage
  src={imageUrl}
  durationInFrames={150}
  direction="zoom-out"
  intensity={1.5}
/>
```

### Pan Right
Zooms in while panning to the right.

```tsx
<KenBurnsImage
  src={imageUrl}
  durationInFrames={150}
  direction="pan-right"
  intensity={1.2}
/>
```

### Pan Left
Zooms in while panning to the left.

```tsx
<KenBurnsImage
  src={imageUrl}
  durationInFrames={150}
  direction="pan-left"
  intensity={1.2}
/>
```

## Integration with OpenAI Images

The `KenBurnsImage` component works seamlessly with images generated by the OpenAI Images API:

```tsx
import { CachedOpenAIImagesAPI } from "../short-creator/libraries/CachedOpenAIImages";
import { OpenAIImagesAPI } from "../short-creator/libraries/OpenAIImages";
import { KenBurnsImage } from "../components/images/KenBurnsImage";

// Generate image
const openai = new OpenAIImagesAPI(process.env.OPENAI_API_KEY!, "neon");
const cached = new CachedOpenAIImagesAPI(openai);
const image = await cached.findVideo(["spooky playground"], 3.0);

// Use in composition
<KenBurnsImage
  src={image.url}  // Can be file:// or data: URL
  durationInFrames={90}
  direction="zoom-in"
  intensity={1.25}
/>
```

## Multiple Images in Sequence

Use `Sequence` from Remotion to create a slideshow effect:

```tsx
import { Sequence } from "remotion";

const images = [
  { url: "file:///path/to/image1.png", direction: "zoom-in" },
  { url: "file:///path/to/image2.png", direction: "pan-right" },
  { url: "file:///path/to/image3.png", direction="zoom-out" },
];

// In your composition
{images.map((img, i) => (
  <Sequence key={i} from={i * 120} durationInFrames={120}>
    <KenBurnsImage
      src={img.url}
      durationInFrames={120}
      direction={img.direction}
    />
  </Sequence>
))}
```

## Performance Tips

1. **Use file:// URLs**: For cached images, `file://` URLs perform better than `data:` URLs
2. **Adjust intensity**: Lower values (1.1-1.3) create subtle, professional animations
3. **Match duration to narration**: Set `durationInFrames` based on scene audio length
4. **Optimize image size**: Use images sized appropriately for your output resolution (1080x1920 for portrait)

## Example: Portrait Video with Ken Burns

```tsx
import { AbsoluteFill, Sequence, useVideoConfig } from "remotion";
import { KenBurnsImage } from "../components/images/KenBurnsImage";

export const MyVideo: React.FC = () => {
  const { fps } = useVideoConfig();
  
  const scenes = [
    { imageUrl: "file:///images/scene1.png", duration: 3.5, direction: "zoom-in" },
    { imageUrl: "file:///images/scene2.png", duration: 4.2, direction: "pan-right" },
    { imageUrl: "file:///images/scene3.png", duration: 3.8, direction: "zoom-out" },
  ];
  
  let currentFrame = 0;
  
  return (
    <AbsoluteFill>
      {scenes.map((scene, i) => {
        const from = currentFrame;
        const durationInFrames = Math.floor(scene.duration * fps);
        currentFrame += durationInFrames;
        
        return (
          <Sequence
            key={i}
            from={from}
            durationInFrames={durationInFrames}
          >
            <KenBurnsImage
              src={scene.imageUrl}
              durationInFrames={durationInFrames}
              direction={scene.direction as any}
              intensity={1.2}
            />
          </Sequence>
        );
      })}
    </AbsoluteFill>
  );
};
```

## Troubleshooting

### Image not displaying
- Verify the image URL is accessible
- For `file://` URLs, ensure the absolute path is correct
- For `data:` URLs, verify the base64 encoding is valid

### Animation not smooth
- Ensure `durationInFrames` is adequate (minimum 60 frames recommended)
- Check that the FPS setting matches your composition

### Image appears cropped
- The component uses `objectFit: "cover"` to fill the frame
- Ensure your source images have the correct aspect ratio for your output
